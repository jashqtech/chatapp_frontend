{"ast":null,"code":"var _jsxFileName = \"C:\\\\QTECH\\\\SIGN IN WITH GOOGLE\\\\socket\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:4000\");\nconst USERS = {\n  alice: \"pass1\",\n  bob: \"pass2\",\n  charlie: \"pass3\"\n};\nfunction App() {\n  _s();\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n  const login = username => {\n    if (password === USERS[username]) {\n      setLoggedInUser(username);\n      socket.emit(\"register\", username);\n    } else {\n      alert(\"Wrong password\");\n    }\n  };\n  const sendMessage = () => {\n    if (selectedUser) {\n      socket.emit(\"send_message\", {\n        to: selectedUser,\n        from: loggedInUser,\n        message\n      });\n      setChat(prev => [...prev, `Me to ${selectedUser}: ${message}`]);\n      setMessage(\"\");\n    }\n  };\n  useEffect(() => {\n    socket.on(\"receive_message\", ({\n      from,\n      message\n    }) => {\n      setChat(prev => [...prev, `${from}: ${message}`]);\n    });\n  }, []);\n  if (!loggedInUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), Object.keys(USERS).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => login(user),\n          children: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)\n      }, user, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Enter password\",\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Logged in as \", loggedInUser]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setSelectedUser(e.target.value),\n      value: selectedUser,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select User to Chat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), Object.keys(USERS).filter(u => u !== loggedInUser).map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: u,\n        children: u\n      }, u, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: chat.map((msg, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: msg\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      onKeyDown: e => e.key === \"Enter\" && sendMessage(),\n      placeholder: \"Type a message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendMessage,\n      children: \"Send\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"zLGm6ap2clFYoLE/sdEBCaPM1h4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","io","jsxDEV","_jsxDEV","socket","USERS","alice","bob","charlie","App","_s","loggedInUser","setLoggedInUser","password","setPassword","selectedUser","setSelectedUser","message","setMessage","chat","setChat","login","username","emit","alert","sendMessage","to","from","prev","on","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","user","onClick","type","placeholder","onChange","e","target","value","filter","u","marginTop","msg","i","onKeyDown","key","_c","$RefreshReg$"],"sources":["C:/QTECH/SIGN IN WITH GOOGLE/socket/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:4000\");\n\nconst USERS = {\n  alice: \"pass1\",\n  bob: \"pass2\",\n  charlie: \"pass3\",\n};\n\nfunction App() {\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [chat, setChat] = useState([]);\n\n  const login = (username) => {\n    if (password === USERS[username]) {\n      setLoggedInUser(username);\n      socket.emit(\"register\", username);\n    } else {\n      alert(\"Wrong password\");\n    }\n  };\n\n  const sendMessage = () => {\n    if (selectedUser) {\n      socket.emit(\"send_message\", {\n        to: selectedUser,\n        from: loggedInUser,\n        message,\n      });\n      setChat((prev) => [...prev, `Me to ${selectedUser}: ${message}`]);\n      setMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    socket.on(\"receive_message\", ({ from, message }) => {\n      setChat((prev) => [...prev, `${from}: ${message}`]);\n    });\n  }, []);\n\n  if (!loggedInUser) {\n    return (\n      <div style={{ padding: 20 }}>\n        <h3>Login</h3>\n        {Object.keys(USERS).map((user) => (\n          <div key={user}>\n            <button onClick={() => login(user)}>{user}</button>\n          </div>\n        ))}\n        <input\n          type=\"password\"\n          placeholder=\"Enter password\"\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h3>Logged in as {loggedInUser}</h3>\n      <select onChange={(e) => setSelectedUser(e.target.value)} value={selectedUser}>\n        <option value=\"\">Select User to Chat</option>\n        {Object.keys(USERS)\n          .filter((u) => u !== loggedInUser)\n          .map((u) => (\n            <option key={u} value={u}>\n              {u}\n            </option>\n          ))}\n      </select>\n      <div style={{ marginTop: 10 }}>\n        {chat.map((msg, i) => (\n          <p key={i}>{msg}</p>\n        ))}\n      </div>\n      <input\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        onKeyDown={(e) => e.key === \"Enter\" && sendMessage()}\n        placeholder=\"Type a message\"\n      />\n      <button onClick={sendMessage}>Send</button>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}